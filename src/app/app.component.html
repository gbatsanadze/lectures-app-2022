<div class="ui container">
  <form class="ui form" (ngSubmit)="onSubmit(form)" #form="ngForm">
    <div id="user-data" ngModelGroup="userData" #userData="ngModelGroup">

      <div class="fields">
        <div class="nine wide field">
          <label for="username">მომხმარებლის სახელი</label>
          <input
            ngModel
            type="text"
            id="username"
            name="username"
            required>
        </div>
      </div>
      <button class="ui basic orange button" type="button">მირჩიე სახელი</button>
      <div class="fields">
        <div class="nine wide field">
          <label for="email">მეილი</label>
          <input
            ngModel
            type="email"
            id="email"
            name="email"
            required
            email
            #email="ngModel">
          <p *ngIf="email.invalid && email.touched">გთხოვ შეიყვანო სწორი მეილი</p>
        </div>
      </div>
    </div>
    <p *ngIf="userData.invalid && userData.touched">მომხმარებლის ინფორმაცია არასწორია</p>
    <div class="fields">
      <div class="nine wide field">
        <label for="pet">საიდუმლო კითხვა</label>
        <select id="secret" name="secret" [ngModel]="defaultQuestion">
          <option value="pet">შენი პირველი ცხოველი?</option>
          <option value="teacher">შენი პირველი მასწავლებელი?</option>
        </select>
      </div>
    </div>
    <div class="fields">
      <div class="nine wide field">
        <textarea name="answer" rows="3" [(ngModel)]="answer"></textarea>
        <p>შენი პასუხია: {{ answer }}</p>
      </div>
    </div>
    <div class="fields">
      <div class="field" *ngFor="let gender of genders">
        <div class="ui radio checkbox">
          <input type="radio" name="gender" [value]="gender" ngModel>
          <label>{{ gender }}</label>
        </div>
      </div>
    </div>
    <button
      class="ui orange button"
      type="submit"
      [disabled]="form.invalid">შენახვა</button>
  </form>
  <div class="ui segment" *ngIf="submitted">
    <h3>შედეგი</h3>
    <p>მომხმარებლის სახელი: {{ user.userData.username }}</p>
    <p>მეილი: {{ user.userData.email }}</p>
    <p>საიდუმლო კითხვა: {{ user.secret }}</p>
    <p>პასუხი: {{ user.answer }}</p>
    <p>სქესი: {{ user.gender }}</p>
  </div>
</div>
